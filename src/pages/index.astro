---
const supported = ['en', 'es'];
const userLang = Astro.request.headers.get('accept-language')?.split(',')[0].split('-')[0] || 'en';
const lang = supported.includes(userLang) ? userLang : 'en';

return Astro.redirect(`/${lang}/`);
---